
## μΆ‹μ€ κ°μ²΄ μ§€ν–¥ ν”„λ΅κ·Έλλ°? λ‹¤ν•μ„±, SOLID, κ΄€μ‹¬μ‚¬μ λ¶„λ¦¬

---

#### π’΅ κ°μ²΄ μ§€ν–¥ νΉμ§•
* μ¶”μƒν™”
* μΊ΅μν™”
* μƒμ†
* **λ‹¤ν•μ„±**

#### π’΅ κ°μ²΄ μ§€ν–¥ ν”„λ΅κ·Έλλ°
* κ°μ²΄ μ§€ν–¥ ν”„λ΅κ·Έλλ°μ€ μ»΄ν“¨ν„° ν”„λ΅κ·Έλλ°μ„ λ…λ Ήμ–΄μ λ©λ΅μΌλ΅ λ³΄λ” μ‹κ°μ—μ„ λ²—μ–΄λ‚ μ—¬λ¬ κ°μ λ…λ¦½λ λ‹¨μ„, μ¦‰ **"κ°μ²΄"** λ“¤μ **λ¨μ„** μΌλ΅ νμ•…ν•κ³ μ ν•λ” κ²ƒμ΄λ‹¤. κ°κ°μ **κ°μ²΄** λ” **λ©”μ‹μ§€** λ¥Ό μ£Όκ³ λ°›κ³ , λ°μ΄ν„°λ¥Ό μ²λ¦¬ν•  μ μλ‹¤. **(ν‘λ ¥)**
* κ°μ²΄ μ§€ν–¥ ν”„λ΅κ·Έλλ°μ€ ν”„λ΅κ·Έλ¨μ„ **μ μ—°** ν•κ³  **λ³€κ²½** μ΄ μ©μ΄ν•κ² λ§λ“¤κΈ° λ•λ¬Έμ— λ€κ·λ¨ μ†ν”„νΈμ›¨μ–΄ κ°λ°μ— λ§μ΄ μ‚¬μ©λλ‹¤.

#### π’΅ λ‹¤ν•μ„±
λ‹¤ν•μ„±μ μ‹¤μ„Έκ³„ λΉ„μ 
* μ‹¤μ„Έκ³„μ™€ κ°μ²΄ μ§€ν–¥μ„ 1:1λ΅ λ§¤μΉ­ν•  μ μ—†μ§€λ§ κ·Έλλ„ μ‹¤μ„Έκ³„μ λΉ„μ λ΅ μ΄ν•΄ν•κΈ° μΆ‹μ
* **μ—­ν• ** κ³Ό **κµ¬ν„** μΌλ΅ μ„Έμƒμ„ κµ¬λ¶„

_μ—­ν• κ³Ό κµ¬ν„μ„ λ¶„λ¦¬_
* **μ—­ν• ** κ³Ό **κµ¬ν„** μΌλ΅ κµ¬λ¶„ν•λ©΄ μ„Έμƒμ΄ **λ‹¨μ** ν•΄μ§€κ³ , **μ μ—°** ν•΄μ§€λ©° **λ³€κ²½** λ„ νΈλ¦¬ν•΄μ§„λ‹¤.
* μ¥μ 
    * **ν΄λΌμ΄μ–ΈνΈ**λ” λ€μƒμ μ—­ν• (μΈν„°νμ΄μ¤)λ§ μ•λ©΄ λλ‹¤.
    * **ν΄λΌμ΄μ–ΈνΈ**λ” κµ¬ν„ λ€μƒμ **λ‚΄λ¶€ κµ¬μ΅°λ¥Ό λ°λΌλ„** λλ‹¤.
    * **ν΄λΌμ΄μ–ΈνΈ**λ” κµ¬ν„ λ€μƒμ **λ‚΄λ¶€ κµ¬μ΅°κ°€ λ³€κ²½** λμ–΄λ„ μν–¥μ„ λ°›μ§€ μ•λ”λ‹¤.
    * **ν΄λΌμ΄μ–ΈνΈ**λ” κµ¬ν„ **λ€μƒ μμ²΄λ¥Ό λ³€κ²½** ν•΄λ„ μν–¥μ„ λ°›μ§€ μ•λ”λ‹¤.

_μ—­ν• κ³Ό κµ¬ν„μ„ λ¶„λ¦¬ - Java_
* Java μ–Έμ–΄μ λ‹¤ν•μ„±μ„ ν™μ©
    * μ—­ν•  = Interface
    * κµ¬ν„ = Interfaceλ¥Ό κµ¬ν„ν• Class, κµ¬ν„ κ°μ²΄
* κ°μ²΄λ¥Ό μ„¤κ³„ν•  λ• **μ—­ν• **κ³Ό **κµ¬ν„**μ„ λ…ν™•ν λ¶„λ¦¬
* κ°μ²΄ μ„¤κ³„μ‹ μ—­ν• (Interface)μ„ λ¨Όμ € λ¶€μ—¬ν•κ³ , κ·Έ μ—­ν• μ„ μν–‰ν•λ” κµ¬ν„ κ°μ²΄ λ§λ“¤κΈ°

#### π’΅ κ°μ²΄μ ν‘λ ¥μ΄λΌλ” κ΄€κ³„λ¶€ν„° μƒκ°
* νΌμ μλ” κ°μ²΄λ” μ—†λ‹¤.
* ν΄λΌμ΄μ–ΈνΈ: μ”μ²­, μ„λ²„: μ‘λ‹µ
* μ λ§μ€ κ°μ²΄ ν΄λΌμ΄μ–ΈνΈμ™€ κ°μ²΄ μ„λ²„λ” μ„λ΅ ν‘λ ¥ κ΄€κ³„λ¥Ό κ°€μ§„λ‹¤.

#### π’΅ Java μ–Έμ–΄μ λ‹¤ν•μ„±
* **μ¤λ²„λΌμ΄λ”©**μ„ λ– μ¬λ ¤λ³΄μ.
* λ‹¤ν•μ„±μΌλ΅ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• κ°μ²΄λ¥Ό μ‹¤ν–‰ μ‹μ μ— μ μ—°ν•κ² λ³€κ²½ν•  μ μλ‹¤.
* λ¬Όλ΅  ν΄λμ¤ μƒμ† κ΄€κ³„λ„ λ‹¤ν•μ„±, μ¤λ²„λΌμ΄λ”© μ μ©κ°€λ¥.

<p align="center">
  <img src="https://github.com/ro117-youshin/Spring-core-basics/blob/main/img/polymorphism_in_java.png" width="600" height="350"/>
</p>

<p align="center">
  <img src="https://github.com/ro117-youshin/Spring-core-basics/blob/main/img/polymorphism_in_java_2.png" width="600" height="200"/>
</p>

```java
public class MemberService {
    
    private MemberRepository memberRepository = new MemoryMemberRepository();
    ...
}
```

```java
public class MemberService {
    
    // private MemberRepository memberRepository = new MemoryMemberRepository();
    private MemberRepository memberRepository = new JdbcMemberRepository();
    ...
}
```

<p align="center">
  <img src="https://github.com/ro117-youshin/Spring-core-basics/blob/main/img/polymorphism_in_java_3.png" width="600" height="350"/>
</p>

#### π’΅ λ‹¤ν•μ„±μ λ³Έμ§
* Interfaceλ¥Ό κµ¬ν„ν• κ°μ²΄ μΈμ¤ν„΄μ¤λ¥Ό **μ‹¤ν–‰ μ‹μ **μ— **μ μ—°**ν•κ² **λ³€κ²½**ν•  μ μλ‹¤.
* λ‹¤ν•μ„±μ λ³Έμ§μ„ μ΄ν•΄ν•λ ¤λ©΄ **ν‘λ ¥**μ΄λΌλ” κ°μ²΄μ‚¬μ΄μ κ΄€κ³„μ—μ„ μ‹μ‘ν•΄μ•Όν•¨
* **ν΄λΌμ΄μ–ΈνΈλ¥Ό λ³€κ²½ν•μ§€ μ•κ³ , μ„λ²„μ κµ¬ν„ κΈ°λ¥μ„ μ μ—°ν•κ² λ³€κ²½ν•  μ μλ‹¤.**

#### π’΅ μ—­ν• κ³Ό κµ¬ν„μ„ λ¶„λ¦¬
* μ‹¤μ„Έκ³„μ μ—­ν• κ³Ό κµ¬ν„μ΄λΌλ” νΈλ¦¬ν• μ»¨μ…‰μ„ λ‹¤ν•μ„±μ„ ν†µν•΄ κ°μ²΄ μ„ΈμƒμΌλ΅ κ°€μ Έμ¬ μ μμ
* μ μ—°ν•κ³ , λ³€κ²½μ΄ μ©μ΄
* ν™•μ¥ κ°€λ¥ν• μ„¤κ³„
* ν΄λΌμ΄μ–ΈνΈμ— μν–¥μ„ μ£Όμ§€ μ•λ” λ³€κ²½ κ°€λ¥
* Interfaceλ¥Ό μ•μ •μ μΌλ΅ μ μ„¤κ³„ν•λ” κ²ƒμ΄ μ¤‘μ”

#### π’΅ μ—­ν• κ³Ό κµ¬ν„ λ¶„λ¦¬μ ν•κ³„
* μ—­ν• (Interface) μμ²΄κ°€ λ³€ν•λ©΄, ν΄λΌμ΄μ–ΈνΈ, μ„λ²„ λ¨λ‘μ— ν° λ³€κ²½μ΄ λ°μƒν•λ‹¤.
* μ„¤κ³„ν•  λ•, Interfaceλ¥Ό μ•μ •μ μΌλ΅, μ¦‰ κ°€μ¥ λ³€ν™”κ°€ μ—†κ² μ μ„¤κ³„ν•λ” κ²ƒμ΄ μ μΌ μ¤‘μ”ν•λ‹¤.
    * λΉ„λ‹¨ Java Interface λΏλ§ μ•„λ‹λΌ Server to Serverμ—μ„ APIλ¥Ό μ μ„¤κ³„ν•λ” κ²ƒμ΄ μ¤‘μ”.

#### π’΅ μ¤ν”„λ§κ³Ό κ°μ²΄ μ§€ν–¥
* λ‹¤ν•μ„±μ΄ κ°€μ¥ μ¤‘μ”, κ°μ²΄ μ§€ν–¥μ κ½ƒ.
* Springμ€ λ‹¤ν•μ„±μ„ κ·Ήλ€ν™”ν•΄μ„ μ΄μ©ν•  μ μκ² λ„μ™€μ¤€λ‹¤.
* Springμ—μ„ μ΄μ•ΌκΈ°ν•λ” IoC(μ μ–΄μ μ—­μ „), DI(μμ΅΄κ΄€κ³„ μ£Όμ…)μ€ λ‹¤ν•μ„±μ„ ν™μ©ν•΄μ„ μ—­ν• κ³Ό κµ¬ν„μ„ νΈλ¦¬ν•κ² λ‹¤λ£° μ μλ„λ΅ μ§€μ›ν•λ‹¤.
* Springμ„ μ‚¬μ©ν•λ©΄ λ§μΉ λ κ³  λΈ”λ­ μ΅°λ¦½ν•λ“―, κ³µμ—° λ¬΄λ€μ λ°°μ°λ¥Ό μ„ νƒν•λ“―, κµ¬ν„μ„ νΈλ¦¬ν•κ² λ³€κ²½ν•  μ μλ‹¤.

---

### π›οΈ SOLID - μΆ‹μ€ κ°μ²΄ μ§€ν–¥ μ„¤κ³„μ 5κ°€μ§€ μ›μΉ™

#### 1. Single Responsibility Principle, λ‹¨μΌ μ±…μ„ μ›μΉ™
* ν• ν΄λμ¤λ” ν•λ‚μ μ±…μ„λ§ κ°€μ Έμ•Ό ν•λ‹¤.
* ν•λ‚μ μ±…μ„μ΄λΌλ” κ²ƒμ€ λ¨νΈν•λ‹¤.
    * ν΄ μλ„ μκ³ , μ‘μ„ μλ„ μλ‹¤. λ¬Έλ§¥κ³Ό μƒν™©μ— λ”°λΌ λ‹¤λ¥΄λ‹¤.
* **μ¤‘μ”ν• κΈ°μ¤€μ€ λ³€κ²½**μ΄λ‹¤. λ³€κ²½μ΄ μμ„ λ• νκΈ‰ ν¨κ³Όκ°€ μ μΌλ©΄ λ‹¨μΌ μ±…μ„ μ›μΉ™μ„ μ λ”°λ¥Έ κ²ƒ.
* ex) UI λ³€κ²½, κ°μ²΄μ μƒμ„±κ³Ό μ‚¬μ©μ„ λ¶„λ¦¬.

#### 2. Open/Closed Principle, κ°λ°©-νμ‡„ μ›μΉ™
* μ†ν”„νΈμ›¨μ–΄ μ”μ†λ” **ν™•μ¥μ—λ” μ—΄λ ¤** μμΌλ‚ **λ³€κ²½μ—λ” λ‹«ν€** μμ–΄μ•Ό ν•λ‹¤.
* ν™•μ¥μ„ ν•λ ¤λ©΄ λ‹Ήμ—°ν κΈ°μ΅΄ μ½”λ“λ¥Ό λ³€κ²½ν•΄μ•Ό ν•λ‹¤? -> **λ‹¤ν•μ„±**μ„ ν™μ©ν•΄λ³΄μ.
* Interfaceλ¥Ό κµ¬ν„ν• μƒλ΅μ΄ ν΄λμ¤λ¥Ό ν•λ‚ λ§λ“¤μ–΄μ„ μƒλ΅μ΄ κΈ°λ¥μ„ κµ¬ν„.
* μ„ 'μ—­ν• κ³Ό κµ¬ν„μ λ¶„λ¦¬'λ¥Ό μƒκ°ν•΄λ³Ό κ²ƒ.

```java
public class MemberService {
//    private MemberRepository memberRepository = new MemoryMemberRepository();
    private MemberRepository memberRepository = new JdbcMemberRepository();
}
```

_λ¬Έμ μ _
* `MemberService` ν΄λΌμ΄μ–ΈνΈκ°€ κµ¬ν„ ν΄λμ¤λ¥Ό μ§μ ‘ μ„ νƒ.
    * `private MemberRepository memberRepository = new MemoryMemberRepository();` - κΈ°μ΅΄ μ½”λ“
    * `private MemberRepository memberRepository = new JdbcMemberRepository();` - λ³€κ²½ μ½”λ“
* **κµ¬ν„ κ°μ²΄λ¥Ό λ³€κ²½ν•λ ¤λ©΄ ν΄λΌμ΄μ–ΈνΈ μ½”λ“λ¥Ό λ³€κ²½ν•΄μ•Ό ν•λ‹¤.**
* **λ¶„λ… λ‹¤ν•μ„±μ„ μ‚¬μ©ν–μ§€λ§ OCP μ›μΉ™μ„ μ§€ν‚¬ μ μ—†λ‹¤.**
* μ–΄λ–»κ² ν•΄κ²°ν•΄μ•Ό ν• κΉ? κ°μ²΄λ¥Ό μƒμ„±ν•κ³ , μ—°κ΄€κ΄€κ³„λ¥Ό λ§Ίμ–΄μ£Όλ” λ³„λ„μ μ΅°λ¦½, μ„¤μ •μκ°€ ν•„μ”ν•λ‹¤.

#### 3. Liskov Substitution Principle, λ¦¬μ¤μ½”ν”„ μΉν™ μ›μΉ™
* ν”„λ΅κ·Έλ¨μ κ°μ²΄λ” ν”„λ΅κ·Έλ¨μ μ •ν™•μ„±μ„ κΉ¨λ¨λ¦¬μ§€ μ•μΌλ©΄μ„ ν•μ„ νƒ€μ…μ μΈμ¤ν„΄μ¤λ΅ λ°”κΏ€ μ μμ–΄μ•Ό ν•λ‹¤.
* λ‹¤ν•μ„±μ—μ„ ν•μ„ ν΄λμ¤λ” μΈν„°νμ΄μ¤ κ·μ•½μ„ λ‹¤ μ§€μΌμ•Ό ν•λ‹¤λ” κ²ƒ, λ‹¤ν•μ„±μ„ μ§€μ›ν•κΈ° μ„ν• μ›μΉ™, μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• κµ¬ν„μ²΄λ” λ―Ώκ³  μ‚¬μ©ν•λ ¤λ©΄, μ΄ μ›μΉ™μ΄ ν•„μ”ν•λ‹¤.
* λ‹¨μν μ»΄νμΌμ— μ„±κ³µν•λ” κ²ƒμ„ λ„μ–΄μ„λ” μ΄μ•ΌκΈ°.
* ex) μλ™μ°¨ μΈν„°νμ΄μ¤μ μ—‘μ…€μ€ μ•μΌλ΅ κ°€λΌλ” κΈ°λ¥, λ’¤λ΅ κ°€κ² κµ¬ν„ν•λ©΄ LSP μ„λ°, λλ¦¬λ”λΌλ„ λ°λ“μ‹ μ•μΌλ΅ κ°€μ•Όν•¨.

#### 4. Interface Segregation Principle, μΈν„°νμ΄μ¤ λ¶„λ¦¬ μ›μΉ™
* νΉμ • ν΄λΌμ΄μ–ΈνΈλ¥Ό μ„ν• μΈν„°νμ΄μ¤ μ—¬λ¬ κ°κ°€ λ²”μ© μΈν„°νμ΄μ¤ ν•λ‚λ³΄λ‹¤ λ‚«λ‹¤.
* μλ™μ°¨ μΈν„°νμ΄μ¤ -> μ΄μ „ μΈν„°νμ΄μ¤, μ •λΉ„ μΈν„°νμ΄μ¤λ΅ λ¶„λ¦¬.
* μ‚¬μ©μ ν΄λΌμ΄μ–ΈνΈ -> μ΄μ „μ ν΄λΌμ΄μ–ΈνΈ, μ •λΉ„μ‚¬ ν΄λΌμ΄μ–ΈνΈλ΅ λ¶„λ¦¬.
* λ¶„λ¦¬ν•λ©΄ μ •λΉ„ μΈν„°νμ΄μ¤ μμ²΄κ°€ λ³€ν•΄λ„ μ΄μ „μ ν΄λΌμ΄μ–ΈνΈμ— μν–¥μ„ μ£Όμ§€ μ•μ.
* μΈν„°νμ΄μ¤κ°€ λ…ν™•ν•΄μ§€κ³ , λ€μ±„ κ°€λ¥μ„±μ΄ λ†’μ•„μ§.

#### 5. Dependency Inversion Principle, μμ΅΄κ΄€κ³„ μ—­μ „ μ›μΉ™
* ν”„λ΅κ·Έλλ¨Έλ” "μ¶”μƒν™”μ— μμ΅΄ν•΄μ•Όμ§€, κµ¬μ²΄ν™”μ— μμ΅΄ν•λ©΄ μ•λλ‹¤." μμ΅΄μ„± μ£Όμ…μ€ μ΄ μ›μΉ™μ„ λ”°λ¥΄λ” λ°©λ²• μ¤‘ ν•λ‚λ‹¤.
* μ‰½κ² λ§ν•΄, κµ¬ν„ ν΄λμ¤μ— μμ΅΄ν•μ§€ λ§κ³ , Interfaceμ— μμ΅΄ν•λΌλ” λ».
* μ„μ—μ„ μ–κΈ°ν• **μ—­ν• (Role)μ— μμ΅΄ν•κ² ν•΄μ•Ό ν•λ‹¤λ” κ²ƒκ³Ό κ°™λ‹¤.** κ°μ²΄ μ„Έμƒλ„ ν΄λΌμ΄μ–ΈνΈκ°€ μΈν„°νμ΄μ¤μ— μμ΅΄ν•΄μ•Ό μ μ—°ν•κ² κµ¬ν„μ²΄λ¥Ό λ³€κ²½ν•  μ μλ‹¤. κµ¬ν„μ²΄μ— μμ΅΄ν•κ² λλ©΄ λ³€κ²½μ΄ μ•„μ£Ό μ–΄λ ¤μ›μ§„λ‹¤.

```java
public class MemberService {
    
    private MemberRepository memberRepository = new MemoryMemberRepository();
    
    ...
}
```
* μ„μ `MemberService`λ” μΈν„°νμ΄μ¤(`MemberRepository`)μ— μμ΅΄ν•μ§€λ§, κµ¬ν„ ν΄λμ¤(`MemoryMemberRepository`)λ„ λ™μ‹μ— μμ΅΄ν•λ‹¤.
* **DIP μ„λ°**

---

### κ΄€μ‹¬μ‚¬μ λ¶„λ¦¬
* μ• ν”λ¦¬μΌ€μ΄μ…μ„ ν•λ‚μ κ³µμ—°μ΄λΌκ³  ν–μ„λ•, κ°κ° Interfaceλ¥Ό λ°°μ—­(λ°°μ° μ—­ν• )μ΄λΌ μƒκ°ν•μ. κ·Έλ°λ° μ‹¤μ  λ°°μ—­μ„ λ§΅μ„ λ°°μ°λ” λ„κ°€ μ„ νƒν•λ”κ°€?
* κ³µμ—°μ μ£Όμ—°, μ΅°μ—°μ„ μ •ν•λ” κ²ƒμ€ λ°°μ°κ°€ μ•„λ‹λ‹¤. λ§μ•½ κ·Έλ ‡λ‹¤λ©΄ λ‚¨μ μ£Όμ—°μ„ λ§΅μ€ λ°°μ°λ” κ³µμ—°λ„ ν•κ³  μƒλ€ μ—¬μ μ£Όμ—° λ°°μ°λ„ μ§μ ‘ μ΄λΉ™ν•΄μ•Ό ν•λ” **λ‹¤μ–‘ν• μ±…μ„**μ„ κ°–κ³  μλ‹¤.

* DIP μ„λ° -> μ¶”μƒμ—λ§ μμ΅΄ν•λ„λ΅ λ³€κ²½(Interfaceμ—λ§ μμ΅΄)
* μ¦‰, **Interface**μ—λ§ μμ΅΄ν•λ„λ΅ μ„¤κ³„λ¥Ό λ³€κ²½ν•μ.

```java
public class OrderServiceImpl implements OrderService {
    // private final DiscountPolicy = new RateDiscountPolicy();
    private DiscountPolicy discountPolicy;
    
    // μƒμ„±μλ¥Ό ν†µν• μμ΅΄κ΄€κ³„ μ£Όμ…
    public OrderServiceImpl(..., DiscountPolicy discountPolicy) {
        ...
        this.discountPolicy = discountPolicy;
    }
}
```

#### π’΅ κ΄€μ‹¬μ‚¬λ¥Ό λ¶„λ¦¬ν•μ.
* λ°°μ°λ” λ³ΈμΈμ μ—­ν• μΈ λ°°μ—­μ„ μν–‰ν•λ” κ²ƒμ—λ§ μ§‘μ¤‘ν•΄μ•Ό ν•λ‹¤.
* λ‚¨μ λ°°μ°λ” μ–΄λ–¤ μ—¬μ λ°°μ°κ°€ μ™€λ„ λ‘κ°™μ΄ κ³µμ—°ν•  μ μμ–΄μ•Ό ν•λ‹¤.
* κ³µμ—°μ„ κµ¬μ„±ν•κ³ , λ‹΄λ‹Ή λ°°μ°λ¥Ό μ„­μ™Έν•κ³ , μ—­ν• μ— λ§λ” λ°°μ°λ¥Ό μ§€μ •ν•λ” μ±…μ„μ„ λ‹΄λ‹Ήν•λ” λ³„λ„μ **κ³µμ—° κΈ°νμ**κ°€ λ‚μ¬μ‹μ μ΄λ‹¤.
* κ³µμ—° κΈ°νμλ¥Ό λ§λ“¤κ³ , λ°°μ°μ™€ κ³µμ—° κΈ°ν™•μμ μ±…μ„μ„ ν™•μ‹¤ν λ¶„λ¦¬ν•μ.
